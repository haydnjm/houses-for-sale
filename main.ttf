provider "google" {
  credentials = file("./service-account.json")
  project     = "houses-for-sale"
  region      = "europe-west4"
}

resource "google_project" "houses_for_sale_google_project" {
  name       = "houses-for-sale"
  project_id = "houses-for-sale-392908"
}

resource "google_project_service" "cloud_run_api" {
  service = "run.googleapis.com"
}

# resource "google_cloud_run_service" "cloud_run" {
#   name     = "houses-for-sale"
#   location = "europe-west4"

#   template {
#     spec {
#       containers {
#         image = "europe-west4-docker.pkg.dev/houses-for-sale-392908/houses-for-sale/houses-for-sale:latest"
#       }
#     }
#   }

#   metadata {
#     namespace = "houses-for-sale-392908"
#   }

#   traffic {
#     percent         = 100
#     latest_revision = true
#   }

#   depends_on = [
#     google_project_service.cloud_run_api
#   ]
# }

# resource "google_service_account" "service_account" {
#   account_id   = "scheduler-sa"
#   description  = "Cloud Scheduler service account; used to trigger scheduled Cloud Run jobs."
#   display_name = "scheduler-sa"
# }